<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>ERP WEB UNIPAR 2023</title>
    </h:head>
    <h:body>
        <h1 align="center">Cadastro de Cidades</h1>
        <br/>
        <h:form>
            <p:messages />
            
            <p:panelGrid columns="3">
                Nome:<p:inputText value="#{cidadeControle.cidade.nome}" size="50"
                                  required="true" requiredMessage="O nome é obrigatório!"
                                  id="nome"/>
                <p:message for="nome"/>
                <p:commandButton value="Salvar" action="#{cidadeControle.salvar()}"
                                 ajax="false"/>
            </p:panelGrid>            
            <p:dataTable value="#{cidadeControle.listaCidades}" var="est"
                         emptyMessage="Nenhuma cidade cadastrada!"
                         paginator="true" rows="2" 
                         rowsPerPageTemplate="2,5,10,{ShowAll|'All'}">
                <p:column headerText="Nome"
                    filterBy="#{cid.nome}" filterMatchMode="contains"
                    sortBy="#{cid.nome}">
                    <p:outputLabel value="#{cid.nome}"/>
                </p:column>
                <p:column headerText="OP" width="50">
                    <p:commandButton ajax="false" 
                                     action="#{cidadeControle.remover(cid)}"
                                     icon="ui-icon-trash"
                                     immediate="true"/>
                </p:column>                               
            </p:dataTable>
        </h:form>
    </h:body>
</html>

